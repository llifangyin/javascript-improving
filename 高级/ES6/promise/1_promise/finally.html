<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
    //   function checkMail() {
    //     return new Promise((resolve, reject) => {
    //       if (Math.random() > 0.5) {
    //         resolve("Mail has arrived");
    //       } else {
    //         reject(new Error("Failed to arrive"));
    //       }
    //     });
    //   }

    //   checkMail()
    //     .then((mail) => {
    //       console.log(mail,'success');
    //     })
    //     .catch((err) => {
    //       console.error(err,'error');
    //     })
    //     .finally(() => {
    //       console.log("Experiment completed");
    //     });

       let p1=  Promise.reject(3).finally(() => { throw 99; }) 
       let p2 = Promise.reject(3).finally(() => Promise.reject(99))
       console.log(p1,p2); // pending promise  
       setTimeout(() => {
            console.log(p1,p2);//reject promise
       }, 100);

       
    </script>
  </body>
</html>
